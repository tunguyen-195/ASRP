{% extends "base.html" %}
{% block content %}
<div class="container mt-5">
    <h2 class="text-center mb-4">Báo Cáo Của Tôi</h2>
    <div class="container-fluid statistics-table" style="margin-top: 10px">
        <div class="table-row header">
            <div class="column index">#</div>
            <div class="wrapper attributes">
                <div class="wrapper title-comment-module-reporter">
                    <div class="wrapper title-comment">
                        <div class="column title">Tiêu đề</div>
                        <div class="column comment">Bình luận</div>
                    </div>
                    <div class="wrapper module-reporter">
                        <div class="column module">Khu vực</div>
                        <div class="column reporter">Người báo cáo</div>
                    </div>
                </div>
                <div class="wrapper status-owner-severity">
                    <div class="wrapper status-owner">
                        <div class="column status">Trạng thái</div>
                        <div class="column owner">Chủ sở hữu</div>
                    </div>
                    <div class="column severity">Mức độ nghiêm trọng</div>
                </div>
            </div>
            <div class="wrapper dates">
                <div class="column date">Tạo</div>
                <div class="column date">Cập nhật</div>
                <div class="column date">Hạn chót</div>
            </div>
        </div>

        {% for report in reports %}
        <div class="table-row">
            <div class="column index">{{ loop.index }}</div>
            <div class="wrapper attributes">
                <div class="wrapper title-comment-module-reporter">
                    <div class="wrapper title-comment">
                        <div class="column title">{{ report.title }}</div>
                        <div class="column comment">{{ report.description }}</div>
                    </div>
                    <div class="wrapper module-reporter">
                        <div class="column module">{{ report.area.name }}</div>
                        <div class="column reporter">{{ report.user.full_name }}</div>
                    </div>
                </div>
                <div class="wrapper status-owner-severity">
                    <div class="wrapper status-owner">
                        <div class="column status"><span class="label label-primary">{{ report.status }}</span></div>
                        <div class="column owner">{{ report.user.full_name }}</div>
                    </div>
                    <div class="column severity">{{ report.severity }}</div>
                </div>
            </div>
            <div class="wrapper dates">
                <div class="column date">{{ report.date_submitted.strftime('%b-%d, %Y') }}</div>
                <div class="column date">{{ report.updated_at.strftime('%b-%d, %Y') }}</div>
                <div class="column date">{{ report.due_date.strftime('%b-%d, %Y') if report.due_date else 'N/A' }}</div>
            </div>
        </div>
        {% endfor %}
    </div>
</div>
{% endblock %} 